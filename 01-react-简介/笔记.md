
# react简介

## 特点
1. 组件化模式，声明式（与命令式相对应）编码。
2. 在React Native（React的后续高级进阶知识）中使用React语法进行移动端开发。
3. 使用虚拟DOM+优秀的Diffing算法，尽量减少与真实DOM的交互。

## HTML页面引入react
1. babel.min.js
   + a.ES6语法转ES5,import等
   + b.jsx转js(jsx为js类似，提供一些独有功能，参考微信小程序);
2. react.development.js
   + react核心库
3. react-dom.development.js
   + react拓展库，（辅助react操作DOM）
4. prop-types.js
   + (暂时用不上)

**页面引入注意事项**
1. 需要先引入核心块`react.development.js`,在引入拓展块`react-dom.development.js`
2. 总共引入3个模块，最后引入`babel.min.js`
3. 书写`js`的`srcip`标签的`type`属性值必须为`text/babel`,而不是`js`或者是`jsx`，不写默认是`js`

**过程**
1. 创建虚拟DOM
   ```javascript
   const VDOM = <h1>Hello,React</h1>
   //此处值不需要添加字符串引号，因为值为虚拟DOM,jsx语法。
   ```
2. 渲染虚拟DOM到页面
   类似于jQuery的引入，全局有一个jquery对象和一个$，引入`react.devlopment`则具有一个全局对象 `React`,引入`react-dom.development.js`则默认具有一个全局对象`ReactDOM`
   
   ```javascript
   ReactDOM.render(虚拟DOM,挂载DOM的容器);
   ReactDOM.render(VDOM,document.getElementById('app'))//react没有提供选择器功能，必须要手动获取。
   ReactDOM.render(VDOM1,document.getElementById('app'))//该动作为替换，而不是追加，所以展示的是VDOM1中的内容，而不是VDOM,VDOM1均展示
   ```
# 虚拟DOM的两种创建方式

## 使用JSX创建
```javascript
   const VDOM = <h1 id="title">Hello,React</h1>;
   ReactDOM.render(VDOM,document.getElementById('app'));
```
## 使用原生JS创建
   此时不需要导入`babel.min.js`,因为不需要它转换`JSX语法`。
```javascript
const VDOM = React.createElement('h1',{id:'title',className:'first'},'Hello,React');
//区别于document.createElement()创建的真实DOM,React.elementElement创建的是虚拟DOM
ReactDOM.render(VDOM,document.getElementById('app'));
```
   如果此时需要在`h1`标签里面嵌套一个`span`标签，此时必须使用
   ```javascript
   const VODM = React.createElement('h1',{id:'title',className:'first'},React.createElement(
      'span',{id:'amt',className="amt'},'Hello,React'));
//而不是
   const VDOM = React.createElement('h1',{id:'title',className:'first'},'<span>Hello,React</span>')；//标签体内的内容不能添加标签
   ```
   如果有多层复杂的嵌套关系，则`JSX`明显比`JS`要方便很多，这也是为什么会有`JSX`语法的缘故。因为`JSX`可以比较简单的创建虚拟DOM.
   **复杂的JSX语法**
   ```javascript
      const VDOM = (
         <h1 id="title" class="first">
            <span id="amt" class="amt">
               Hello,React
            </span>
         </h1>
      );
      //小括号括起来代表一个整体
   ```
   其实`JSX`经过`babel`翻译之后，转换成的依然还是可被浏览器识别的`原生JS`所创建的虚拟DOM方式，也就是`使用原生创建`的方式，可以说`JSX`就是为简化虚拟DOM的创建而诞生的`JS`语法糖。

## 虚拟DOM的特点
```javascript
<script type="text/javascript">
    const VDOM = React.createElement('h1',{id:'h1'},React.createElement('span',{className:'span'},'Hello,React,Ha,Ha,Ha'));
    const element = document.getElementById('app');
    ReactDOM.render(VDOM,element);
    console.log('虚拟DOM',VDOM);
    console.log('真实DOM',element);
    debugger;
</script>
```
**虚拟DOM与真实DOM**

1. 本质是Object类型的对象（一般对象）。
2. 虚拟DOM比较"轻"，属性比较少，只有React内部在使用。
3. 真实DOM比较"重"，具有DOM所需的全部属性。
4. 虚拟DOM最终会被React转化为真实DOM,呈现在页面上。



# JSX语法

全称JavaScript XML，react定义的一种类似于XML的JS拓展语法：JS+XML。本质是`React.createElement(component,props,...children)`方法的语法糖。

作用：用来简化创建虚拟DOM。



## jsx语法规则

1. 定义虚拟DOM时，不要写引号。
2. 标签中混入JS表达式时要用{}。
3. 样式的类名指定不要用class,要用className。（避免与ES6中的class相冲突）。
4. 内联样式要采用 style={{key:value}},这种形式。（外层{}表示一个内容为一个JS表达式，里层的{}表示JS表达式不是一个函数，或者一个变量，而是一个JS的一般对象）
5. 虚拟DOM必须只有一个根标签。
6. 标签必须闭合。
7. 标签首字母

   + 若小写字母开头，则将该标签转为html中的同名标签，若html中没有该标签对应的同名元素，则直接报错。
+ 若大写字母开头，react就去渲染对应的组件，若组件没有定义，则直接报错。

## JS语句(代码)与表达式的区别

​      *一定注意区分：【js语句(代码)】与【js表达式】*

1. 表达式：一个表达式会产生一个值，可以放在任何一个需要值的地方.

​                下面这些都是表达式：

​                    *(1). a*

​                    *(2). a+b*

​                    *(3). demo(1)*

​                    *(4). arr.map()* 

​                    *(5). function test () {}*

2. 语句(代码)：

​                下面这些都是语句(代码)：

​                    *(1).if(){}*

​                    *(2).for(){}*

​                    (3).switch(){case:xxxx}

<font color="red">React中只允许书写JS表达式而不是JS语句</font>

  如果React传入一个数组，则React自动会遍历这个数组，同时数组里面的元素'<li>Angular</li>'会自动渲染成DOM。

  如果给React传入一个对象，则会直接报错。